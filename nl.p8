pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
-- number lunchers
-- by kisonecat

pl = {}
pl.x = 16
pl.y = 16
pl.dx = 0
pl.dy = 0
pl.left = false

-- game stats
score = 17
level = 1
lives = 3

-- position of board
cx = 6
cy = 5
originx = 16
originy = 16

function draw_player()
   -- pieces of player
   top = 0
   standing = 16
   marching1 = 2
   marching2 = 18
   local bottom
   
   if pl.dx == 0 and pl.dy == 0 then
      bottom = standing
   else
      if (pl.x + pl.y) % 4 == 2 then
	 bottom = marching1
      end
      if (pl.x + pl.y) % 4 == 0 then
	 bottom = marching2
      end
   end
   
   pal(8,0)
   spr(top, pl.x, pl.y, 2, 1, pl.left)
   spr(bottom, pl.x, pl.y + 8, 2, 1, pl.left)   
end

function _update()
 if (btn(0)) then pl.dx=-1 end
 if (btn(1)) then pl.dx= 1 end
 if (btn(2)) then pl.dy=-1 end
 if (btn(3)) then pl.dy= 1 end

 -- Move in the desired direction
 pl.x = pl.x + 2*pl.dx
 pl.y = pl.y + 2*pl.dy

 -- Do not walk off the screen
 if pl.x < originx then pl.x = originx end
 if pl.y < originy then pl.y = originy end
 if pl.x > originx + 16*(cx-1) then pl.x = originx + 16*(cx-1) end
 if pl.y > originy + 16*(cy-1) then pl.y = originy + 16*(cy-1) end  

 -- stay pointing in movement direction
 if pl.dx < 0 then
    pl.left = true
 end
 if pl.dx > 0 then
    pl.left = false
 end

 -- stop when we make it to a square
 if (pl.x - originx) % 16 == 0 then
    pl.dx = 0
 end
 if (pl.y - originy) % 16 == 0 then
    pl.dy = 0
 end
 
end

function _draw()
   camera (0, 0)
   rectfill (0,0,127,127,0) 
   map(0,0, 0,0, 16,16)
   draw_player()

   print("score: " .. tostr(score), 0, 116, 7)
   print("level: " .. tostr(level), 0, 0, 5)
   print("multiples of 2", 0, 8, 7)

   for i = 1,lives do
      spr(0, 30 + 16 * i, 128-16, 2, 2)
   end
end

__gfx__
00000000000000000388888888888330000000770770000000000000000000000000000000000000000000000000000000000000eeeeeeeeeeeeeeee00000000
00000077077000000333333333333330000000780780000000000000000000000000000000000000000000000000000000000000e00000000000000000000000
00000078078000000000030030000000033333773773000000000000000000000000000000000000000000000000000000000000e00000000000000000000000
00000077077000000000030030000000038833333333000000000000000000000000000000000000000000000000000000000000e00000000000000000000000
03333333333300000000030030000000038833333333000000000000000000000000000000000000000000000000000000000000e00000000000000000000000
03333333333300000000030033330000038888888888000000000000000000000000000000000000000000000000000000000000e00000000000000000000000
03883333333300000000030000000000038888888888000000000000000000000000000000000000000000000000000000000000e00000000000000000000000
03883333333300000033330000000000038888888888000000000000000000000000000000000000000000000000000000000000e00000000000000000000000
03888888888803300388888888888330038888888888000000000000000000000000000000000000000000000000000000000000e0000000e000000000000000
03333333333333300333333333333330038888888888833000000000000000000000000000000000000000000000000000000000e00000000000000000000000
00000300300000000000030030000000038888888888833000000000000000000000000000000000000000000000000000000000e00000000000000000000000
00000300300000000000030030000000033333333333333000000000000000000000000000000000000000000000000000000000e00000000000000000000000
00000300300000000000030030000000000003003000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000
00000300300000000033330030000000000003003000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000
00000300300000000000000030000000000003003000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000
00333300333300000000000033330000003333003333000000000000000000000000000000000000000000000000000000000000e00000000000000000000000
00000000000000000222228882222220000000000000000002888222222888200000000000000000022222222222222000000000000000000000000000000000
00002222222200000222222888778870000022222222000002288778877882200000222222220000022222222222222000000000000000000000000000000000
00022222222220000222222888888800000222222222200002288888888882200002222222222000022222222222222000000000000000000000000000000000
00222228888880000022222227887700002288888888220000227887788722000022222222222200002222222222220000000000000000000000000000000000
00222227778777000022222222222200002277788777220000222222222222000022222222222200002222222222220000000000000000000000000000000000
00222227878787000002220022222000002278788787220000000222222220000022222222222200000002222222200000000000000000000000000000000000
02222222222222200000222002200000022222222222222000002220022000000222222222222220000022200220000000000000000000000000000000000000
02222282222222200000000002220000028222222222282000000000022200000222222222222220000000000222000000000000000000000000000000000000
02222288822222200222228882222220028882222228882002888222222888200222222222222220022222222222222000000000000000000000000000000000
02222228887788700222222888778870022887788778822002288778877882200222222222222220022222222222222000000000000000000000000000000000
02222228888888000222222888888800022888888888822002288888888882200222222222222220022222222222222000000000000000000000000000000000
00222222278877000022222227887700002278877887220000227887788722000022222222222200002222222222220000000000000000000000000000000000
00222222222222000022222222222200002222222222220000222222222222000022222222222200002222222222220000000000000000000000000000000000
00022222222220000002222222200000000222222222200000022222222000000002222222222000000222222220000000000000000000000000000000000000
00002200022000000000220002220000000002200220000000000220022200000000022002200000000002200222000000000000000000000000000000000000
00002220022200000000222000000000000022200222000000002220000000000000222002220000000022200000000000000000000000000000000000000000
__map__
0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0f0f0d0e0d0e0d0e0d0e0d0e0d0e1d0f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0f0f1d0f1d0f1d0f1d0f1d0f1d0f1d0f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0f0f0d0e0d0e0d0e0d0e0d0e0d0e1d0f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0f0f1d0f1d0f1d0f1d0f1d0f1d0f1d0f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0f0f0d0e0d0e0d0e0d0e0d0e0d0e1d0f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0f0f1d0f1d0f1d0f1d0f1d0f1d0f1d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000d0e0d0e0d0e0d0e0d0e0d0e1d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00001d0f1d0f1d0f1d0f1d0f1d0f1d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000d0e0d0e0d0e0d0e0d0e0d0e1d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00001d0f1d0f1d0f1d0f1d0f1d0f1d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000e0e0e0e0e0e0e0e0e0e0e0e1e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
